import{C as L,d as T,D as $,X as q,K as G,r as b,M as v,z as j,L as H,a,b as i,v as p,g as l,f as e,k as r,i as u,N as C,p as k,j as y,c as w,F as z,h as B,H as K,O as Q}from"./index-5e7b76fe.js";const U={style:{"font-weight":"700"}},W={style:{display:"flex","align-items":"center","justify-content":"space-between"}},Y={style:{display:"flex","align-items":"center","justify-content":"space-between"}},J=T({__name:"index",setup(P){const m=$("globalContext"),d=q(m);G("appContext",d);const h=m.router.currentRoute.value.params.app;d.load(h);const s=b(!v().value),_=b([]);m.request({method:"GET",url:"deployed/menus",params:{id:h}}).then(function(n){_.value=n.list});const N=j(()=>{let n="",c="";const o=m.router.currentRoute.value.params.page;if(o)for(const x of _.value||[])for(const g of x.pages||[])o==g._id&&(n=x.name,c=g.name);return[n,c]}),M=b(),{enter:D}=H(M),F=j(()=>{const n=d.getCode().colorBackground;return n?{"background-color":n}:{}});return(n,c)=>{const o=a("lc-icon"),x=a("el-menu-item"),g=a("el-sub-menu"),O=a("el-menu"),R=a("el-aside"),E=a("el-breadcrumb-item"),S=a("el-breadcrumb"),X=a("el-header"),A=a("router-view"),I=a("el-main"),V=a("el-container");return i(),p(V,null,{default:l(()=>[e(R,{width:s.value?"260px":r(v)().value?"40px":"60px",style:{height:"100vh",background:"var(--el-color-white)","border-right":"1px solid var(--el-border-color)"}},{default:l(()=>[u("div",{style:C([{height:"24px","border-bottom":"1px solid var(--el-border-color)",overflow:"hidden","white-space":"nowrap"},"padding: 12px 0 12px "+(r(v)().value?"8px":"16px")])},[e(o,{size:"medium",icon:r(d).getCode().icon,style:{"margin-right":"16px"}},null,8,["icon"]),k(" "+y(s.value?r(d).getCode().name:""),1)],4),e(O,{router:!0,collapse:!s.value,style:{"margin-top":"12px"}},{default:l(()=>[(i(!0),w(z,null,B(_.value,t=>(i(),p(g,{index:"/"+t._id,key:t._id},{title:l(()=>[e(o,{icon:t.icon||"mdiMenu",size:"small",style:C([{"margin-right":"8px"},"margin-left:"+(r(v)().value?"10px":"20px")])},null,8,["icon","style"]),u("span",U,y(t.name),1)]),default:l(()=>[(i(!0),w(z,null,B(t.pages||[],f=>(i(),p(x,{index:"/deploy/"+r(h)+"/"+f._id,key:f._id},{default:l(()=>[u("span",null,[e(o,{icon:f.icon||"mdiChartBoxOutline",size:"small",style:{"margin-right":"8px"}},null,8,["icon"]),k(" "+y(f.name),1)])]),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["collapse"])]),_:1},8,["width"]),e(V,null,{default:l(()=>[e(X,{style:{height:"48px",padding:"12px 0 12px 16px","box-sizing":"border-box","border-bottom":"1px solid var(--el-border-color)"}},{default:l(()=>[u("div",W,[u("div",Y,[e(o,{icon:s.value?"mdiMenuOpen":"mdiMenuClose",size:"large",style:{cursor:"pointer"},onClick:c[0]||(c[0]=t=>s.value=!s.value)},null,8,["icon"]),e(S,{separator:">",style:{"margin-left":"25px"}},{default:l(()=>[(i(!0),w(z,null,B(N.value,t=>(i(),p(E,{key:t.id},{default:l(()=>[k(y(t),1)]),_:2},1024))),128))]),_:1})]),u("div",null,[e(K,{style:{"line-height":"28px","margin-right":"4px"}}),e(o,{icon:"mdi-fullscreen",tooltip:n.$t("_.components.layout.fullScreen"),size:"large",style:{"margin-right":"32px"},onClick:r(D)},null,8,["tooltip","onClick"])])])]),_:1}),e(I,{ref_key:"elMainRef",ref:M,id:"lcViewMainArea",style:C([{"max-height":"calc(100vh - 48px)",margin:"0px"},F.value])},{default:l(()=>[e(A,null,{default:l(({Component:t})=>[(i(),p(Q(t)))]),_:1})]),_:1},8,["style"])]),_:1})]),_:1})}}}),ee=L(J,[["__scopeId","data-v-9b188f7a"]]);export{ee as default};
