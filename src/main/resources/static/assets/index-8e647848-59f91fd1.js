import{l as x,p as y}from"./transformUtil-999da02b-e777606b.js";import{h as b}from"./tooltipUtil-4635a4f7-2c64bc23.js";import{b as h,c as k,d as w,a as _}from"./index-1ede4d6c-b9d7dc37.js";import{ad as f,k as R}from"./index-5e7b76fe.js";import"./biTool-e603ec91-3f60f9c4.js";import"./index-3458eb1c-625f9c79.js";import"./chartActionUtil-201ccd97-6331c097.js";import"./_plugin-vue_export-helper-dad06003-f875bd67.js";const q=[{key:"dimension",min:1},{key:"metric",min:1}];function C({config:s,data:r,context:c,key:m,contextWrap:e,fullConfig:d}){const n=d.config.model,l=R(r).data||[],{legend:t,indicator:p,dataFinal:i}=M(l,n);return{...y({config:s,skipLegend:!0}),tooltip:{trigger:"item",formatter:function(o){var g;let a='<div style="font-weight:700;">'+(((g=o.data)==null?void 0:g.name)||"")+"</div>";a+='<div style="display:grid;grid-template-columns: auto auto auto;grid-gap: 4px 8px;">';for(let u=0;u<n.metric.length;u++){const v=n.metric[u];a+="<div>"+(o.marker||"")+"</div>",a+="<div>"+(v.label||"")+"</div>",a+="<div>"+(b(o.value[u],v)||"")+"</div>"}return a+="</div>",a}},legend:{orient:"vertical",right:"48px",top:"4px",data:t},radar:{indicator:p},series:[{name:"",type:"radar",data:i}]}}function F({config:s,data:r,context:c,key:m,contextWrap:e,fullConfig:d}){}const j=x(C,q,F);function M(s,r){var c;const m=[],e={},d=[];let n=!0;for(const t of s){if(n){n=!1;continue}m.push(t[0]);const p=[];d.push({name:t[0],value:p});for(let i=0;i<((c=r.metric)==null?void 0:c.length);i++){const o=r.metric[i];e[o.label]=Math.max(e[o.label]||0,t[i+1]),p.push(t[i+1])}}const l=[];for(const t of Object.keys(e))l.push({name:t,max:e[t]});return{legend:m,indicator:l,dataFinal:d}}const B={key:"_bi_radar",name:f.t("bi.widgets.radar.name"),description:"",icon:"mdiRadar",sequence:21,transform:j,editor:{model:h({type:"radar"},[{_type:"dimension",description:f.t("bi.widgets.radar.dimension_description"),option:{minRow:1,maxRow:1}},{_type:"metric",description:f.t("bi.widgets.radar.metric_description"),option:{minRow:1}},...k]),basic:{init:{},ui:[...w()]},..._()}};export{B as default};
