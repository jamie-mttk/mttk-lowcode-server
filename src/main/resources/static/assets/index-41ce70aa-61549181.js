import{l as h,p as f,m as u}from"./transformUtil-999da02b-e777606b.js";import{h as y}from"./tooltipUtil-4635a4f7-2c64bc23.js";import{b as g,c as w,d as b,a as v}from"./index-1ede4d6c-b9d7dc37.js";import{ad as r,k as x}from"./index-5e7b76fe.js";import"./biTool-e603ec91-3f60f9c4.js";import"./index-3458eb1c-625f9c79.js";import"./chartActionUtil-201ccd97-6331c097.js";import"./_plugin-vue_export-helper-dad06003-f875bd67.js";const R=[{key:"dimension",min:2},{key:"_dimensionAndMetric",eq:3}];function k({config:o,data:e,context:n,key:i,contextWrap:A,fullConfig:m}){var s;const t=m.config.model,d=x(e).data||[],l=q(d);return{...f({config:o}),tooltip:{trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"rgba(0,0,0,0.2)",width:1,type:"solid"}}},valueFormatter(p){var a;const c=(((a=t.metric)==null?void 0:a.length)||0)==1?t.metric[0]:t.dimension[2];return y(p,c)},singleAxis:{name:(s=u(t,"dimension",0))==null?void 0:s.label,top:50,bottom:50,axisTick:{},axisLabel:{},type:"time",axisPointer:{animation:!0,label:{show:!0}},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},series:[{type:"themeRiver",emphasis:{itemStyle:{shadowBlur:20,shadowColor:"rgba(0, 0, 0, 0.8)"}},label:{show:!1},data:l}]}}const _=h(k,R,void 0,{skipDataset:!0});function q(o){const e=[];let n=!0;for(const i of o){if(n){n=!1;continue}e.push([i[0],i[2],i[1]])}return e}const D={key:"_bi_themeRiver",name:r.t("bi.widgets.themeRiver.name"),description:"",icon:"mdiWavesArrowRight",sequence:32,transform:_,editor:{model:g({type:"themeRiver"},[{_type:"dimension",description:r.t("bi.widgets.themeRiver.dimension_description"),option:{maxRow:3,minRow:2}},{_type:"metric",description:r.t("bi.widgets.themeRiver.metric_description"),option:{maxRow:1,minRow:0}},...w]),basic:{init:{},ui:[...b()]},...v()}};export{D as default};
