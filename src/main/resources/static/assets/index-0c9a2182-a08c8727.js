import{d as D,D as h,r as P,z as V,a as i,b as a,c as f,f as p,g as c,F as b,h as z,k as B,v as x,i as y,j as C,l as q,P as w}from"./index-168435c7.js";const I={class:"pallet-item"},K={class:"text"},L={key:1,class:"pallet-item"},S={class:"text"},$=D({__name:"PalletItem",props:{config:{type:Object,required:!0,default(){return{}}}},setup(o){return(m,r)=>{const u=i("lc-icon"),s=i("el-tooltip");return o.config.description?(a(),x(s,{key:0,effect:"light",content:o.config.description,placement:"bottom-start"},{default:c(()=>[y("span",I,[p(u,{icon:o.config.icon,size:"x-large"},null,8,["icon"]),y("span",K,C(o.config.name),1)])]),_:1},8,["content"])):(a(),f("span",L,[p(u,{icon:o.config.icon,size:"x-large"},null,8,["icon"]),y("span",S,C(o.config.name),1)]))}}}),E={style:{"font-size":"1.1em"}},A=D({__name:"index",setup(o){const m=h("globalContext"),r=h("context"),u=r.appContext.getCode().components||[],s=P(""),g=V(()=>r.appContext.getCode().customizeComponent?u.filter(e=>e.type=="folder").map(e=>m.componentRepository.folderByKey(e.key)):m.componentRepository.componentFolders()),j=g.value.length>0?g.value[0].key:void 0,_=V(()=>function(e){let t=m.componentRepository.componentsByFolder(e);return s.value&&(t=t.filter(n=>k(n.key)||k(n.name)||k(n.description))),r.appContext.getCode().customizeComponent&&(t=t.filter(n=>!!u.find(d=>d.type=="component"&&d.key==n.key))),t});function k(e){return e?e.indexOf(s.value)>=0:!1}function F(e,t){e.setData("text/plain",t.dataset.pallet)}function R(e){return w(r,e)}return(e,t)=>{const n=i("el-input"),d=i("el-col"),N=i("el-collapse-item"),O=i("el-collapse");return a(),f("div",null,[p(n,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),placeholder:e.$t("_.builtIn.plugin.pallet.filter"),style:{"margin-bottom":"8px"}},null,8,["modelValue","placeholder"]),p(O,{accordion:"","model-value":B(j)},{default:c(()=>[(a(!0),f(b,null,z(g.value,l=>(a(),x(N,{key:l.key,name:l.key},{title:c(()=>[y("span",E,C(l.name),1)]),default:c(()=>[p(B(q),{modelValue:_.value(l.key),group:{name:"components",pull:"clone",put:!1},"empty-insert-threshold":1e3,"item-key":"key",clone:R,class:"el-row",setData:F},{default:c(()=>[(a(!0),f(b,null,z(_.value(l.key),v=>(a(),x(d,{key:v.key,span:8,style:{margin:"0.8em 0"},"data-pallet":v.key},{default:c(()=>[p($,{config:v},null,8,["config"])]),_:2},1032,["data-pallet"]))),128))]),_:2},1032,["modelValue"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])])}}});export{A as default};
