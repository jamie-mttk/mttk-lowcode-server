import{d as E,a as s,o as w,h as M,w as t,i as T,f as e,t as N,z as S,g as x,c as V,b as U,F as B,s as K,u as P,l as Z,C as O,n as ee,j as Q,r as Y,q as J,D as H,e as k,m as q,J as L,E as F,O as te,G as oe,_ as le,P as ne,N as ae,Q as G,T as ue}from"./index-83dc2c00.js";import{f as j,_ as re}from"./formTransform-62e50ab9.js";import{w as se,b as ie}from"./index-23db70af.js";const de={class:"pallet-item"},ce={class:"text"},pe=E({__name:"PalletItem",props:{config:{type:Object,required:!0,default(){return{}}}},setup(C){return(y,g)=>{const _=s("lc-icon"),d=s("el-tooltip");return w(),M(d,{effect:"light",content:C.config.description,placement:"bottom-start"},{default:t(()=>[T("span",de,[e(_,{icon:C.config.icon,size:"x-large"},null,8,["icon"]),T("span",ce,N(C.config.name),1)])]),_:1},8,["content"])}}}),me={style:{"font-size":"1.1em"}},fe=E({__name:"index",setup(C){const y=S("context"),g=x(""),_=y.repositoryManager.componentFolders(),d=_[0].key;let c=x({});const p=V(()=>function(m){const a=y.repositoryManager.componentsByFolder(m);return g.value?a.filter(l=>h(l.key)||h(l.name)||h(l.description)):a});function h(m){return m?m.indexOf(g.value)>=0:!1}function b(m){const l={key:y.codeManager.createComponentKey(m.key),type:m.key,config:n(m),data:{},event:[],styles:O(m.initStyles)||{}};return c.value=l,l}function n(m){const a=O(m.initConfig)||{};if(a.props._container&&Array.isArray(a.props._container)&&a.props._container.length>0)for(const l of a.props._container)l.key||(l.key=ee());return a}return(m,a)=>{const l=s("el-input"),u=s("el-col"),r=s("el-collapse-item"),o=s("el-collapse");return w(),U("div",null,[e(l,{modelValue:g.value,"onUpdate:modelValue":a[0]||(a[0]=f=>g.value=f),placeholder:"Input to filter pallet item",style:{"margin-bottom":"8px"}},null,8,["modelValue"]),e(o,{accordion:"","model-value":P(d)},{default:t(()=>[(w(!0),U(B,null,K(P(_),f=>(w(),M(r,{key:f.key,name:f.key},{title:t(()=>[T("span",me,N(f.name),1)]),default:t(()=>[e(P(Z),{modelValue:p.value(f.key),group:{name:"components",pull:"clone",put:!1},"empty-insert-threshold":1e3,"item-key":"key",clone:b,class:"el-row"},{item:t(({element:v})=>[e(u,{span:8,style:{margin:"0.8em 0"}},{default:t(()=>[e(pe,{config:v},null,8,["config"])]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1032,["name"]))),128))]),_:1},8,["model-value"])])}}});const _e={style:{"margin-left":"16px"}},ve=E({__name:"index",setup(C){const y=S("context"),g=V(()=>y.codeManager.getCode().ui||[]),_=V(()=>d(g.value));function d(a){var u,r;if(!Array.isArray(a)||a.length<=0)return;const l=[];for(const o of a){const f=c(o);if(f){if(l.push(f),(u=o.config)!=null&&u.props&&o.config.props._container&&Array.isArray(o.config.props._container)&&o.config.props._container.length>0){f.children=[];for(const v of o.config.props._container){const D={label:v.label||v.span||"##",data:o,key:v.key,icon:"mdiFolderOutline",nodeType:"container"};f.children.push(D);const $=d(v._children);$&&(D.children=$)}}(r=o.config)!=null&&r.props&&o.config.props._children&&Array.isArray(o.config.props._children)&&o.config.props._children.length>0&&(f.children=d(o.config.props._children))}}return l}function c(a){var l,u;if(a.key)return{label:((u=(l=a.config)==null?void 0:l.props)==null?void 0:u.label)||a.key,icon:p(a.type),key:a.key,data:a,nodeType:a.type=="_container"?"panel":"component"}}function p(a){const l=y.repositoryManager.componentByKey(a);return(l==null?void 0:l.icon)||"mdiHelpBoxMultipleOutline"}function h(a){y.choosedManager.setChoosed(a.data)}const b=(a,l,u,r)=>{y.codeManager.moveComponent(a.key,l.key,u)},n=(a,l,u)=>u=="inner"?l.data.nodeType!="component":l.data.nodeType=="component"||l.data.nodeType=="component",m=a=>a.data.nodeType=="component"||a.data.nodeType=="panel";return(a,l)=>{const u=s("lc-icon"),r=s("el-tree");return w(),M(r,{data:_.value,"highlight-current":!0,draggable:"","node-key":"key","default-expanded-keys":["_ROOT"],onNodeClick:h,onNodeDrop:b,"allow-drop":n,"allow-drag":m},{default:t(({node:o,data:f})=>[T("span",null,[e(u,{icon:o.data.icon},null,8,["icon"]),T("span",_e,N(o.label),1)])]),_:1},8,["data"])}}});function ge(C){const y=V(()=>C.codeManager.getCode().data.map(o=>({value:o.key,label:o.description}))),g=V(()=>C.codeManager.getCode().computed.map(o=>({value:o.key,label:o.description}))),_=V(()=>C.codeManager.getCode().apis.map(o=>({value:o.key,label:o.description}))),d=V(()=>C.codeManager.getCode().methods.map(o=>({value:o.key,label:o.description}))),c=V(()=>{const o=C.choosedManager.getChoosed();return o&&o.key&&o.key!="_root"}),p=V(()=>{const o=C.choosedManager.getChoosed();return!o||!o.key?"Not selectd":o.key}),h=x(m());Q(()=>C.choosedManager.getChoosed(),()=>{var v;const o=C.choosedManager.getChoosed();if(!o||!o.key){h.value=m();return}const f=C.repositoryManager.componentByKey(o.type);if(!f){h.value=l("No component config is found by type:"+o.type);return}if(!a(f.editor)){h.value=l("This component does not need to config");return}h.value=j(f.editor,((v=o.config)==null?void 0:v.props)||{},C,!0)},{immediate:!0});const b=V(()=>{const o=C.choosedManager.getChoosed();return!o||!o.key?[]:o.styles}),n=V({get:()=>{const o=C.choosedManager.getChoosed();return!o||!o.key?"":o.classes||""},set:o=>{const f=C.choosedManager.getChoosed();!f||!f.key||(f.classes=o)}});function m(){return j([{"~component":"el-input","~label":"Name","~prop":"name",clearable:!0},{"~component":"el-input","~label":"Description","~prop":"description",clearable:!0}],C.codeManager.getCode(),C)}function a(o){return o?Array.isArray(o)?o.length>0:!0:!1}function l(o){return{"~component":"el-empty",description:o}}const u=V(()=>{const o=C.choosedManager.getChoosed();if(!o||!o.key)return l("No component is choosed");const f=C.repositoryManager.componentByKey(o.type);if(!f)return l("No component config is found by type:"+o.type);if(!f.dataConfig)return l("This component does not need to config data");const v=[],D=Y(o.data||{});return v.push({"~component":"el-select","~label":"Mode","~prop":"mode",clearable:!0,"~options":[{value:"data",label:"Data"},{value:"computed",label:"Computed"},{value:"method",label:"Method"},{value:"fixed",label:"Fixed"}]}),v.push({"~component":"el-select","~label":"Data","~prop":"dataKey","~show":V(()=>D.mode=="data"),clearable:!0,"~options":y}),v.push({"~component":"el-input","~label":"Data path","~prop":"dataPath","~show":V(()=>D.mode=="data"),clearable:!0}),v.push({"~component":"el-select","~label":"Computed","~prop":"computedKey","~show":V(()=>D.mode=="computed"),clearable:!0,"~options":g}),v.push({"~component":"el-select","~label":"Method","~prop":"methodKey","~show":V(()=>D.mode=="method"),clearable:!0,"~options":d}),v.push({"~component":"el-input","~label":"Data content","~prop":"dataContent","~show":V(()=>D.mode=="fixed"),type:"textarea",rows:10,clearable:!0}),j(v,D,C)}),r=V(()=>{const o=C.choosedManager.getChoosed();if(!o||!o.key)return l("No component is choosed");const f=C.repositoryManager.componentByKey(o.type);if(!f)return l("No component config is found by type:"+o.type);const v=x([]);C.getAppContext().queryPages().then(function(i){v.value=i.list.map(A=>({value:A._id,label:A.name}))});const D=Y(o||[]);return j([{"~component":"lc-editable-list","~label":"","~prop":"event","~hideSwitchButton":!0,labelColumn:"name",editConfig:function(i){return[{"~component":"el-select","~label":"Name","~prop":"name","allow-create":!0,"~options":f.events||[]},{"~component":"el-select","~label":"Handle mode","~prop":"mode","~default":"script","~options":[{value:"script",label:"Script"},{value:"method",label:"Method"},{value:"api",label:"API"},{value:"openPage",label:"Open page"}]},{"~component":"el-select","~label":"API","~prop":"api","~show":V(()=>i.value.mode=="api"),clearable:!0,"~options":_},{"~component":"el-select","~label":"Method","~prop":"method","~show":V(()=>i.value.mode=="method"),clearable:!0,"~options":d},{"~component":"b-ace-editor","~label":"Script code","~prop":"code","~show":V(()=>i.value.mode=="script")},{"~component":"el-select","~label":"Open page type","~prop":"openPageType","~default":"dialog","~show":V(()=>i.value.mode=="openPage"),"~options":[{value:"dialog",label:"Dialog"},{value:"drawer",label:"Drawer"},{value:"replace",label:"Replace this page"}]},{"~component":"el-select","~label":"Page to open","~prop":"pageId","~show":V(()=>i.value.mode=="openPage"),"~options":v,filterable:!0},{"~component":"el-switch","~label":"Show shadowing layer/Modal","~prop":"modal","~default":!0,"~show":V(()=>i.value.mode=="openPage"&&(i.value.openPageType=="dialog"||i.value.openPageType=="drawer"))},{"~component":"el-switch","~label":"Close on click modal","~prop":"close-on-click-modal","~default":!1,"~show":V(()=>i.value.mode=="openPage"&&(i.value.openPageType=="dialog"||i.value.openPageType=="drawer"))},{"~component":"el-switch","~label":"Close on press escape","~prop":"close-on-press-escape","~default":!1,"~show":V(()=>i.value.mode=="openPage"&&(i.value.openPageType=="dialog"||i.value.openPageType=="drawer"))},{"~component":"el-switch","~label":"Show close","~prop":"show-close","~default":!0,"~show":V(()=>i.value.mode=="openPage"&&(i.value.openPageType=="dialog"||i.value.openPageType=="drawer"))},{"~component":"el-input","~label":"Width","~prop":"width","~default":"50%","~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="dialog")},{"~component":"el-switch","~label":"Fullscreen","~prop":"fullscreen","~default":!1,"~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="dialog")},{"~component":"el-switch","~label":"Draggable","~prop":"draggable","~default":!1,"~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="dialog")},{"~component":"el-input","~label":"Size","~prop":"size","~default":"30%","~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="drawer")},{"~component":"el-select","~label":"Direction","~prop":"direction","~default":"rtl","~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="drawer"),"~options":[{value:"ltr",label:"left to right"},{value:"rtl",label:"right to left"},{value:"ttb",label:"top to bottom<"},{value:"btt",label:"bottom to top"}]},{"~component":"el-switch","~label":"Show header","~prop":"with-header","~default":!0,"~show":V(()=>i.value.mode=="openPage"&&i.value.openPageType=="drawer")}]}}],D,C)});return{canBeDelete:c,configTitle:p,configBasic:h,configStyles:b,configClasses:n,configData:u,configEvent:r}}const ye={key:1},be={key:1},he=E({__name:"styleEditor",props:{modelValue:{type:Object,required:!0,default(){return{}}}},setup(C){const y=C,g=x({}),_=S("context"),d=V(()=>{const u=_.choosedManager.getChoosed();return u&&u.key}),c=x([]),{pause:p,resume:h}=se(()=>y.modelValue,()=>{const u=[];for(const r of Object.keys(y.modelValue))u.push({name:r,value:y.modelValue[r]});c.value=u},{immediate:!0});function b(u){g.value=u}function n(){c.value.push({})}function m(u){c.value.splice(u.$index,1),a()}function a(){p();for(const u of Object.keys(y.modelValue))l(u)||delete y.modelValue[u];for(const u of c.value)!u.name||!u.value||(y.modelValue[u.name]=u.value);h()}function l(u){for(const r of c.value)if(u==r.name)return!0;return!1}return(u,r)=>{const o=s("el-input"),f=s("el-table-column"),v=s("lc-icon"),D=s("el-button"),$=s("el-table");return w(),U(B,null,[J(T("div",null,[e($,{data:c.value,style:{width:"100%"},"show-header":!1,"empty-text":"Press button below",onRowClick:b},{default:t(()=>[e(f,{prop:"name",label:"Name"},{default:t(i=>[g.value==i.row?(w(),M(o,{key:0,modelValue:i.row.name,"onUpdate:modelValue":A=>i.row.name=A,onChange:a},null,8,["modelValue","onUpdate:modelValue"])):(w(),U("span",ye,N(i.row.name||"Empty"),1))]),_:1}),e(f,{prop:"value",label:"Value"},{default:t(i=>[g.value==i.row?(w(),M(o,{key:0,modelValue:i.row.value,"onUpdate:modelValue":A=>i.row.value=A,onChange:a},null,8,["modelValue","onUpdate:modelValue"])):(w(),U("span",be,N(i.row.value),1))]),_:1}),e(f,{prop:"operation",label:"Operation",width:"60px"},{default:t(i=>[e(D,{onClick:A=>m(i)},{icon:t(()=>[e(v,{icon:"mdiTrashCanOutline"})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),e(D,{onClick:n,style:{"margin-top":"6px"}},{icon:t(()=>[e(v,{icon:"mdiPlus"})]),default:t(()=>[k(" Add a new style")]),_:1})],512),[[H,d.value]]),J(T("div",null," No component is choosed ",512),[[H,!d.value]])],64)}}}),ke={class:"card-header"},Ce={class:"card-title"},Ve=T("div",{style:{"margin-bottom":"8px"}},"Classes:",-1),we=T("div",{style:{margin:"12px 0 4px 0"}},"Styles:",-1),xe=E({__name:"index",setup(C){const y=S("context"),g=x("basic"),{canBeDelete:_,configTitle:d,configBasic:c,configStyles:p,configClasses:h,configData:b,configEvent:n}=ge(y);function m(){F.confirm("Are you sure to delete this component?","Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{const r=y.choosedManager.getChoosed();!r||!r.key||(y.codeManager.delComponent(r.key),y.choosedManager.setChoosed(void 0))})}function a(){F.confirm("Are you sure to duplicate this component?","Confirm",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{const r=y.choosedManager.getChoosed();if(!r||!r.key)return;const o=y.codeManager.duplicateComponent(r.key);y.choosedManager.setChoosed(o)})}const l=x("640px");u(),window.onresize=function(){u()};function u(){l.value=window.innerHeight-320+"px"}return(r,o)=>{const f=s("lc-icon"),v=s("el-button"),D=s("CompWrap"),$=s("el-scrollbar"),i=s("el-tab-pane"),A=s("el-tabs"),z=s("el-card");return w(),M(z,{shadow:"never"},{header:t(()=>[T("div",ke,[T("span",null,[T("span",Ce,N(P(d)),1),P(_)?(w(),M(v,{key:0,type:"warning",size:"small",onClick:a},{icon:t(()=>[e(f,{icon:"mdiContentCopy"})]),_:1})):q("",!0)]),P(_)?(w(),M(v,{key:0,type:"danger",size:"small",onClick:m},{icon:t(()=>[e(f,{icon:"mdiTrashCanOutline"})]),_:1})):q("",!0)])]),default:t(()=>[e(A,{modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=I=>g.value=I)},{default:t(()=>[e(i,{label:"Basic",name:"basic"},{default:t(()=>[e($,{height:l.value},{default:t(()=>[P(c)?(w(),M(D,{key:0,config:P(c)},null,8,["config"])):q("",!0)]),_:1},8,["height"])]),_:1}),e(i,{label:"Data",name:"data"},{default:t(()=>[P(b)?(w(),M(D,{key:0,config:P(b)},null,8,["config"])):q("",!0)]),_:1}),e(i,{label:"Events",name:"events"},{default:t(()=>[P(n)?(w(),M(D,{key:0,config:P(n)},null,8,["config"])):q("",!0)]),_:1}),e(i,{label:"Display",name:"display"},{default:t(()=>[Ve,e(re,{modelValue:P(h),"onUpdate:modelValue":o[0]||(o[0]=I=>L(h)?h.value=I:null)},null,8,["modelValue"]),we,e(he,{modelValue:P(p),"onUpdate:modelValue":o[1]||(o[1]=I=>L(p)?p.value=I:null)},null,8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});const De={class:"dialog-footer"},$e=E({__name:"DataEditorDialog",setup(C,{expose:y}){function g(b,n){d.value=b,c=n,_.value=!0}const _=x(!1),d=x({});let c;const p=x(),h=async b=>{b&&await b.validate(n=>{n&&(_.value=!1,c&&c(d.value))})};return y({show:g}),(b,n)=>{const m=s("el-input"),a=s("el-form-item"),l=s("el-option"),u=s("el-select"),r=s("el-form"),o=s("el-button"),f=s("el-dialog");return w(),M(f,{modelValue:_.value,"onUpdate:modelValue":n[5]||(n[5]=v=>_.value=v),title:"Data editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",De,[e(o,{onClick:n[3]||(n[3]=v=>_.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(o,{type:"primary",onClick:n[4]||(n[4]=v=>h(p.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(r,{ref_key:"dataEditorFormRef",ref:p,model:d.value,"label-width":"120px"},{default:t(()=>[e(a,{label:"Key",prop:"key",required:""},{default:t(()=>[e(m,{modelValue:d.value.key,"onUpdate:modelValue":n[0]||(n[0]=v=>d.value.key=v)},null,8,["modelValue"])]),_:1}),e(a,{label:"Description",prop:"description"},{default:t(()=>[e(m,{modelValue:d.value.description,"onUpdate:modelValue":n[1]||(n[1]=v=>d.value.description=v)},null,8,["modelValue"])]),_:1}),e(a,{label:"Type",prop:"type",required:""},{default:t(()=>[e(u,{modelValue:d.value.type,"onUpdate:modelValue":n[2]||(n[2]=v=>d.value.type=v)},{default:t(()=>[e(l,{label:"String",value:"String"}),e(l,{label:"Number",value:"Number"}),e(l,{label:"Boolean",value:"Boolean"}),e(l,{label:"Object",value:"Object"}),e(l,{label:"Array",value:"Array"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Me={class:"dialog-footer"},Te=E({__name:"DataValueDialog",setup(C,{expose:y}){const g=S("context"),_=x(),d=x(!0),c=x(!1);let p,h=0;function b(u,r){p=u,h=r,_.value=m(u),n.value=!0}const n=x(!1);function m(u){let r;return h==0?r=u.initValue:(r=g.dataManager.getData(p.key),r=L(r)?r.value:r),r!=null?u.type=="String"?r:JSON.stringify(r,null,2):u.type=="Object"?"{}":u.type=="Array"?"[]":u.type=="String"?"":u.type=="Number"?"0":u.type=="Boolean"?"true":""}function a(){return p.type=="Object"||p.type=="Array"?JSON.parse(_.value):p.type=="String"?_.value:p.type=="Number"?parseFloat(_.value):p.type=="Boolean"?_.value=="true":""}function l(){let u;try{u=a()}catch(r){te({title:"Error",message:r.message,type:"error"});return}h==0?(p.initValue=u,d.value&&g.dataManager.setData(p.key,u)):(g.dataManager.setData(p.key,u),c.value&&(p.initValue=u)),n.value=!1}return y({show:b}),(u,r)=>{const o=s("b-ace-editor"),f=s("el-switch"),v=s("el-button"),D=s("el-dialog");return w(),M(D,{modelValue:n.value,"onUpdate:modelValue":r[4]||(r[4]=$=>n.value=$),title:"Data value"},{footer:t(()=>[T("span",Me,[P(h)==0?(w(),M(f,{key:0,style:{"margin-right":"20px"},modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=$=>d.value=$),size:"large","inactive-text":"Reset current value to init value while saving"},null,8,["modelValue"])):q("",!0),P(h)==1?(w(),M(f,{key:1,style:{"margin-right":"20px"},modelValue:c.value,"onUpdate:modelValue":r[2]||(r[2]=$=>c.value=$),size:"large","inactive-text":"Reset init value to current value while saving"},null,8,["modelValue"])):q("",!0),e(v,{onClick:r[3]||(r[3]=$=>n.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(v,{type:"primary",onClick:l},{default:t(()=>[k("Save")]),_:1})])]),default:t(()=>[e(o,{modelValue:_.value,"onUpdate:modelValue":r[0]||(r[0]=$=>_.value=$),lang:"json",width:"100%",height:"50vh",readonly:!1,"font-size":14},null,8,["modelValue"])]),_:1},8,["modelValue"])}}}),Ee=E({__name:"index",setup(C){const y=x(),g=x();let _=-1;const d=S("context");function c(){_=-1,y.value.show({},h)}function p(l){_=l.$index;const u=O(l.row);y.value.show(u,h)}const h=l=>{_<0?a.value.push(l):a.value[_]=l},b=l=>{F.confirm("Will you want to delte this data","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{a.value.splice(l.$index,1),d.dataManager.clearData(l.row.key)})},n=l=>{g.value.show(l.row,0)},m=l=>{g.value.show(l.row,1)},a=V(()=>d.codeManager.getCode().data);return(l,u)=>{const r=s("el-table-column"),o=s("el-button"),f=s("el-button-group"),v=s("el-table");return w(),U(B,null,[e(v,{data:a.value,border:""},{empty:t(()=>[k(" Please "),e(o,{type:"primary",onClick:u[1]||(u[1]=D=>c())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(r,{prop:"key",label:"Key"}),e(r,{prop:"description",label:"Description"}),e(r,{prop:"type",label:"Type"}),e(r,{fixed:"right",label:"Operations",width:"420px"},{default:t(D=>[e(f,null,{default:t(()=>[e(o,{type:"primary",onClick:u[0]||(u[0]=$=>c())},{default:t(()=>[k("Add")]),_:1}),e(o,{type:"success",onClick:$=>p(D)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e(o,{type:"danger",onClick:$=>b(D)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"]),e(o,{type:"primary",onClick:$=>n(D)},{default:t(()=>[k("Init value")]),_:2},1032,["onClick"]),e(o,{type:"success",onClick:$=>m(D)},{default:t(()=>[k("Current value")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e($e,{ref_key:"dataEditorDialogRef",ref:y},null,512),e(Te,{ref_key:"dataValueDialogRef",ref:g},null,512)],64)}}}),Pe={class:"dialog-footer"},Ue=E({__name:"ComputedEditorDialog",setup(C,{expose:y}){function g(b,n){d.value=b,c=n,_.value=!0}const _=x(!1),d=x({});let c;const p=x(),h=async b=>{b&&await b.validate(n=>{n&&(_.value=!1,c&&c(d.value))})};return y({show:g}),(b,n)=>{const m=s("el-input"),a=s("el-form-item"),l=s("b-ace-editor"),u=s("el-form"),r=s("el-button"),o=s("el-dialog");return w(),M(o,{modelValue:_.value,"onUpdate:modelValue":n[5]||(n[5]=f=>_.value=f),title:"Computed editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",Pe,[e(r,{onClick:n[3]||(n[3]=f=>_.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(r,{type:"primary",onClick:n[4]||(n[4]=f=>h(p.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(u,{ref_key:"dataEditorFormRef",ref:p,model:d.value,"label-width":"120px"},{default:t(()=>[e(a,{label:"Key",prop:"key",required:""},{default:t(()=>[e(m,{modelValue:d.value.key,"onUpdate:modelValue":n[0]||(n[0]=f=>d.value.key=f)},null,8,["modelValue"])]),_:1}),e(a,{label:"Description",prop:"description"},{default:t(()=>[e(m,{modelValue:d.value.description,"onUpdate:modelValue":n[1]||(n[1]=f=>d.value.description=f)},null,8,["modelValue"])]),_:1}),e(a,{label:"Code",prop:"code",required:""},{default:t(()=>[e(l,{modelValue:d.value.code,"onUpdate:modelValue":n[2]||(n[2]=f=>d.value.code=f),lang:"javascript",width:"100%",height:"40vh",readonly:!1,"font-size":14},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Se={class:"dialog-footer"},Re=E({__name:"ComputedValueDialog",setup(C,{expose:y}){const g=S("context"),_=x();let d;function c(b){d=b,_.value=h(),p.value=!0}const p=x(!1);function h(b){const n=g.computedManager.get(d.key);return n!=null?typeof n=="string"?n:JSON.stringify(n,null,2):"undefined"}return y({show:c}),(b,n)=>{const m=s("b-ace-editor"),a=s("el-button"),l=s("el-dialog");return w(),M(l,{modelValue:p.value,"onUpdate:modelValue":n[2]||(n[2]=u=>p.value=u),title:"Computed value"},{footer:t(()=>[T("span",Se,[e(a,{onClick:n[1]||(n[1]=u=>p.value=!1)},{default:t(()=>[k("Close")]),_:1})])]),default:t(()=>[e(m,{modelValue:_.value,"onUpdate:modelValue":n[0]||(n[0]=u=>_.value=u),lang:"json",width:"100%",height:"50vh",readonly:!1,"font-size":14},null,8,["modelValue"])]),_:1},8,["modelValue"])}}}),Ae=E({__name:"index",setup(C){const y=x(),g=x();let _=-1;const d=S("context");function c(){_=-1,y.value.show({code:""},h)}function p(a){_=a.$index;const l=O(a.row);y.value.show(l,h)}const h=a=>{_<0?m.value.push(a):m.value[_]=a},b=a=>{F.confirm("Will you want to delte this computed","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{m.value.splice(a.$index,1),d.computedManager.reset(a.row.key)})},n=a=>{g.value.show(a.row)},m=V(()=>d.codeManager.getCode().computed);return(a,l)=>{const u=s("el-table-column"),r=s("el-button"),o=s("el-button-group"),f=s("el-table");return w(),U(B,null,[e(f,{data:m.value,border:""},{empty:t(()=>[k(" Please "),e(r,{type:"primary",onClick:l[1]||(l[1]=v=>c())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(u,{prop:"key",label:"Key"}),e(u,{prop:"description",label:"Description"}),e(u,{fixed:"right",label:"Operations",width:"280px"},{default:t(v=>[e(o,null,{default:t(()=>[e(r,{type:"primary",onClick:l[0]||(l[0]=D=>c())},{default:t(()=>[k("Add")]),_:1}),e(r,{type:"success",onClick:D=>p(v)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e(r,{type:"danger",onClick:D=>b(v)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"]),e(r,{type:"success",onClick:D=>n(v)},{default:t(()=>[k("Value")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(Ue,{ref_key:"computedEditorDialogRef",ref:y},null,512),e(Re,{ref_key:"computedValueDialogRef",ref:g},null,512)],64)}}}),Be={class:"dialog-footer"},qe=E({__name:"MethodParaEditorDialog",setup(C,{expose:y}){function g(b,n){d.value=b,c=n,_.value=!0}const _=x(!1),d=x({});let c;const p=x(),h=async b=>{b&&await b.validate(n=>{n&&(_.value=!1,c&&c(d.value))})};return y({show:g}),(b,n)=>{const m=s("el-input"),a=s("el-form-item"),l=s("el-option"),u=s("el-select"),r=s("el-form"),o=s("el-button"),f=s("el-dialog");return w(),M(f,{modelValue:_.value,"onUpdate:modelValue":n[5]||(n[5]=v=>_.value=v),title:"Method parameter editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",Be,[e(o,{onClick:n[3]||(n[3]=v=>_.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(o,{type:"primary",onClick:n[4]||(n[4]=v=>h(p.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(r,{ref_key:"dataEditorFormRef",ref:p,model:d.value,"label-width":"120px"},{default:t(()=>[e(a,{label:"Key",prop:"key",required:""},{default:t(()=>[e(m,{modelValue:d.value.key,"onUpdate:modelValue":n[0]||(n[0]=v=>d.value.key=v)},null,8,["modelValue"])]),_:1}),e(a,{label:"Description",prop:"description"},{default:t(()=>[e(m,{modelValue:d.value.description,"onUpdate:modelValue":n[1]||(n[1]=v=>d.value.description=v)},null,8,["modelValue"])]),_:1}),e(a,{label:"Data type",prop:"type",required:""},{default:t(()=>[e(u,{modelValue:d.value.type,"onUpdate:modelValue":n[2]||(n[2]=v=>d.value.type=v)},{default:t(()=>[e(l,{label:"String",value:"String"}),e(l,{label:"Number",value:"Number"}),e(l,{label:"Boolean",value:"Boolean"}),e(l,{label:"Object",value:"Object"}),e(l,{label:"Array",value:"Array"})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Ne={class:"dialog-footer"},Oe=E({__name:"MethodEditorDialog",setup(C,{expose:y}){let g=-1;const _=x();function d(r,o){p.value=r,h=o,c.value=!0}const c=x(!1),p=x({});let h;const b=x();function n(){g=-1,_.value.show({},a)}function m(r){g=r.$index;const o=O(r.row);_.value.show(o,a)}const a=r=>{g<0?p.value.paras.push(r):p.value.paras[g]=r},l=r=>{p.value.paras.splice(r.$index,1)},u=async r=>{r&&await r.validate(o=>{o&&(c.value=!1,h&&h(p.value))})};return y({show:d}),(r,o)=>{const f=s("el-input"),v=s("el-form-item"),D=s("el-table-column"),$=s("el-button"),i=s("el-button-group"),A=s("el-table"),z=s("b-ace-editor"),I=s("el-form"),X=s("el-dialog");return w(),U(B,null,[e(X,{modelValue:c.value,"onUpdate:modelValue":o[7]||(o[7]=R=>c.value=R),title:"Method editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",Ne,[e($,{onClick:o[5]||(o[5]=R=>c.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e($,{type:"primary",onClick:o[6]||(o[6]=R=>u(b.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(I,{ref_key:"dataEditorFormRef",ref:b,model:p.value,"label-width":"120px"},{default:t(()=>[e(v,{label:"Key",prop:"key",required:""},{default:t(()=>[e(f,{modelValue:p.value.key,"onUpdate:modelValue":o[0]||(o[0]=R=>p.value.key=R)},null,8,["modelValue"])]),_:1}),e(v,{label:"Description",prop:"description"},{default:t(()=>[e(f,{modelValue:p.value.description,"onUpdate:modelValue":o[1]||(o[1]=R=>p.value.description=R)},null,8,["modelValue"])]),_:1}),e(v,{label:"Parameters",prop:"paras"},{default:t(()=>[e(A,{data:p.value.paras,style:{width:"100%"}},{empty:t(()=>[k(" Please "),e($,{type:"primary",onClick:o[3]||(o[3]=R=>n())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(D,{prop:"key",label:"Key"}),e(D,{prop:"description",label:"Description"}),e(D,{prop:"type",label:"Data type"}),e(D,{fixed:"right",label:"Operations",width:"240px"},{default:t(R=>[e(i,null,{default:t(()=>[e($,{type:"primary",onClick:o[2]||(o[2]=W=>n())},{default:t(()=>[k("Add")]),_:1}),e($,{type:"success",onClick:W=>m(R)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e($,{type:"danger",onClick:W=>l(R)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])]),_:1}),e(v,{label:"Code",prop:"code"},{default:t(()=>[e(z,{modelValue:p.value.code,"onUpdate:modelValue":o[4]||(o[4]=R=>p.value.code=R),lang:"javascript",width:"100%",height:"40vh",readonly:!1,"font-size":14},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"]),e(qe,{ref_key:"methodParaEditorDialogRef",ref:_},null,512)],64)}}}),Fe=E({__name:"index",setup(C){const y=x();let g=-1;const _=S("context");function d(){g=-1,y.value.show({paras:[],code:""},p)}function c(n){g=n.$index;const m=O(n.row);y.value.show(m,p)}const p=n=>{g<0?b.value.push(n):b.value[g]=n},h=n=>{F.confirm("Will you want to delte this method","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{b.value.splice(n.$index,1)})},b=V(()=>_.codeManager.getCode().methods);return(n,m)=>{const a=s("el-table-column"),l=s("el-button"),u=s("el-button-group"),r=s("el-table");return w(),U(B,null,[e(r,{data:b.value,border:""},{empty:t(()=>[k(" Please "),e(l,{type:"primary",onClick:m[1]||(m[1]=o=>d())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(a,{prop:"key",label:"Key"}),e(a,{prop:"description",label:"Description"}),e(a,{fixed:"right",label:"Operations",width:"220px"},{default:t(o=>[e(u,null,{default:t(()=>[e(l,{type:"primary",onClick:m[0]||(m[0]=f=>d())},{default:t(()=>[k("Add")]),_:1}),e(l,{type:"success",onClick:f=>c(o)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e(l,{type:"danger",onClick:f=>h(o)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(Oe,{ref_key:"methodEditorDialogRef",ref:y},null,512)],64)}}}),Ie={class:"dialog-footer"},je=E({__name:"ApiEditorDialog",setup(C,{expose:y}){const g=S("context");function _(a,l){c.value=a,p=l,d.value=!0}const d=x(!1),c=x({});let p;const h=x(),b=async a=>{a&&await a.validate(l=>{l&&(d.value=!1,p&&p(c.value))})},n=V(()=>g.codeManager.getCode().data),m=V(()=>g.codeManager.getCode().computed);return y({show:_}),(a,l)=>{const u=s("el-input"),r=s("el-form-item"),o=s("el-option"),f=s("el-select"),v=s("el-form"),D=s("el-button"),$=s("el-dialog");return w(),M($,{modelValue:d.value,"onUpdate:modelValue":l[13]||(l[13]=i=>d.value=i),title:"API editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",Ie,[e(D,{onClick:l[11]||(l[11]=i=>d.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(D,{type:"primary",onClick:l[12]||(l[12]=i=>b(h.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(v,{ref_key:"dataEditorFormRef",ref:h,model:c.value,"label-width":"240px"},{default:t(()=>[e(r,{label:"Key",prop:"key",required:""},{default:t(()=>[e(u,{modelValue:c.value.key,"onUpdate:modelValue":l[0]||(l[0]=i=>c.value.key=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"Description",prop:"description"},{default:t(()=>[e(u,{modelValue:c.value.description,"onUpdate:modelValue":l[1]||(l[1]=i=>c.value.description=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"Method",prop:"method",required:""},{default:t(()=>[e(f,{modelValue:c.value.method,"onUpdate:modelValue":l[2]||(l[2]=i=>c.value.method=i)},{default:t(()=>[e(o,{label:"GET",value:"GET"}),e(o,{label:"PUT",value:"PUT"}),e(o,{label:"POST",value:"POST"}),e(o,{label:"DELETE",value:"DELETE"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"URL",prop:"url",required:""},{default:t(()=>[e(u,{modelValue:c.value.url,"onUpdate:modelValue":l[3]||(l[3]=i=>c.value.url=i)},null,8,["modelValue"])]),_:1}),e(r,{label:"Request type",prop:"requestType",required:""},{default:t(()=>[e(f,{modelValue:c.value.requestType,"onUpdate:modelValue":l[4]||(l[4]=i=>c.value.requestType=i)},{default:t(()=>[e(o,{label:"None",value:"none"}),e(o,{label:"Para",value:"para"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"Request content mode",prop:"requestContentMode",required:""},{default:t(()=>[e(f,{modelValue:c.value.requestContentMode,"onUpdate:modelValue":l[5]||(l[5]=i=>c.value.requestContentMode=i)},{default:t(()=>[e(o,{label:"Data",value:"data"}),e(o,{label:"Computed",value:"computed"})]),_:1},8,["modelValue"])]),_:1}),c.value.requestContentMode=="data"?(w(),M(r,{key:0,label:"Request content value[Data]",prop:"requestContentValueData",required:""},{default:t(()=>[e(f,{modelValue:c.value.requestContentValueData,"onUpdate:modelValue":l[6]||(l[6]=i=>c.value.requestContentValueData=i)},{default:t(()=>[(w(!0),U(B,null,K(n.value,i=>(w(),M(o,{key:i.key,label:i.description,value:i.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0),c.value.requestContentMode=="computed"?(w(),M(r,{key:1,label:"Request content value[Computed]",prop:"requestContentValueComputed",required:""},{default:t(()=>[e(f,{modelValue:c.value.requestContentValueComputed,"onUpdate:modelValue":l[7]||(l[7]=i=>c.value.requestContentValueComputed=i)},{default:t(()=>[(w(!0),U(B,null,K(m.value,i=>(w(),M(o,{key:i.key,label:i.description,value:i.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):q("",!0),e(r,{label:"Response mode",prop:"responseMode",required:""},{default:t(()=>[e(f,{modelValue:c.value.responseMode,"onUpdate:modelValue":l[8]||(l[8]=i=>c.value.responseMode=i)},{default:t(()=>[e(o,{label:"None",value:"none"}),e(o,{label:"Data",value:"data"})]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"Response value",prop:"responseValue",required:""},{default:t(()=>[e(f,{modelValue:c.value.responseValue,"onUpdate:modelValue":l[9]||(l[9]=i=>c.value.responseValue=i)},{default:t(()=>[(w(!0),U(B,null,K(n.value,i=>(w(),M(o,{key:i.key,label:i.description,value:i.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(r,{label:"Response expression",prop:"responseExpression"},{default:t(()=>[e(u,{modelValue:c.value.responseExpression,"onUpdate:modelValue":l[10]||(l[10]=i=>c.value.responseExpression=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),Ke=E({__name:"index",setup(C){const y=x(),g=S("context");let _=-1;function d(){_=-1,y.value.show({},p)}function c(m){_=m.$index;const a=O(m.row);y.value.show(a,p)}const p=m=>{_<0?n.value.push(m):n.value[_]=m},h=m=>{F.confirm("Will you want to delete this API","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{n.value.splice(m.$index,1)})},b=m=>{F.confirm("Will you want to call this API","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{g.apiManager.invoke(m.row.key),oe({message:"API is called.",type:"success"})})},n=V(()=>g.codeManager.getCode().apis);return(m,a)=>{const l=s("el-table-column"),u=s("el-button"),r=s("el-button-group"),o=s("el-table");return w(),U(B,null,[e(o,{data:n.value,border:""},{empty:t(()=>[k(" Please "),e(u,{type:"primary",onClick:a[1]||(a[1]=f=>d())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(l,{prop:"key",label:"Key"}),e(l,{prop:"description",label:"Description"}),e(l,{prop:"method",label:"Method"}),e(l,{prop:"url",label:"URL"}),e(l,{fixed:"right",label:"Operations",width:"280px"},{default:t(f=>[e(r,null,{default:t(()=>[e(u,{type:"primary",onClick:a[0]||(a[0]=v=>d())},{default:t(()=>[k("Add")]),_:1}),e(u,{type:"success",onClick:v=>c(f)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e(u,{type:"danger",onClick:v=>h(f)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"]),e(u,{type:"warning",onClick:v=>b(f)},{default:t(()=>[k("Call")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(je,{ref_key:"apiEditorDialogRef",ref:y},null,512)],64)}}}),ze={class:"dialog-footer"},Le=E({__name:"LifecycleEditorDialog",setup(C,{expose:y}){function g(b,n){d.value=b,c=n,_.value=!0}const _=x(!1),d=x({});let c;const p=x(),h=async b=>{b&&await b.validate(n=>{n&&(_.value=!1,c&&c(d.value))})};return y({show:g}),(b,n)=>{const m=s("el-option"),a=s("el-select"),l=s("el-form-item"),u=s("b-ace-editor"),r=s("el-form"),o=s("el-button"),f=s("el-dialog");return w(),M(f,{modelValue:_.value,"onUpdate:modelValue":n[4]||(n[4]=v=>_.value=v),title:"Lifecycle editor","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:t(()=>[T("span",ze,[e(o,{onClick:n[2]||(n[2]=v=>_.value=!1)},{default:t(()=>[k("Cancel")]),_:1}),e(o,{type:"primary",onClick:n[3]||(n[3]=v=>h(p.value))},{default:t(()=>[k(" Save ")]),_:1})])]),default:t(()=>[e(r,{ref_key:"dataEditorFormRef",ref:p,model:d.value,"label-width":"120px"},{default:t(()=>[e(l,{label:"Key",prop:"key",required:""},{default:t(()=>[e(a,{modelValue:d.value.key,"onUpdate:modelValue":n[0]||(n[0]=v=>d.value.key=v)},{default:t(()=>[e(m,{value:"onMounted"}),e(m,{value:"onUpdated"}),e(m,{value:"onUnmounted"}),e(m,{value:"onBeforeMount"}),e(m,{value:"onBeforeUpdate"}),e(m,{value:"onBeforeUnmount"}),e(m,{value:"onErrorCaptured"}),e(m,{value:"onRenderTracked"}),e(m,{value:"onRenderTracked"}),e(m,{value:"onActivated"}),e(m,{value:"onDeactivated"})]),_:1},8,["modelValue"])]),_:1}),e(l,{label:"Code",prop:"code",required:""},{default:t(()=>[e(u,{modelValue:d.value.code,"onUpdate:modelValue":n[1]||(n[1]=v=>d.value.code=v),lang:"javascript",width:"100%",height:"40vh",readonly:!1,"font-size":14},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])}}}),We=E({__name:"index",setup(C){const y=x();let g=-1;const _=S("context");function d(){g=-1,y.value.show({mode:"script",code:""},p)}function c(n){g=n.$index;const m=O(n.row);y.value.show(m,p)}const p=n=>{g<0?b.value.push(n):b.value[g]=n},h=n=>{F.confirm("Will you want to delte this lifecycle","Warning",{confirmButtonText:"Yes",cancelButtonText:"No",type:"warning"}).then(()=>{b.value.splice(n.$index,1)})},b=V(()=>_.codeManager.getCode().lifecycle);return(n,m)=>{const a=s("el-table-column"),l=s("el-button"),u=s("el-button-group"),r=s("el-table");return w(),U(B,null,[e(r,{data:b.value,border:""},{empty:t(()=>[k(" Please "),e(l,{type:"primary",onClick:m[1]||(m[1]=o=>d())},{default:t(()=>[k("Add")]),_:1}),k(" a new record ")]),default:t(()=>[e(a,{prop:"key",label:"Key"}),e(a,{fixed:"right",label:"Operations",width:"280px"},{default:t(o=>[e(u,null,{default:t(()=>[e(l,{type:"primary",onClick:m[0]||(m[0]=f=>d())},{default:t(()=>[k("Add")]),_:1}),e(l,{type:"success",onClick:f=>c(o)},{default:t(()=>[k("Edit")]),_:2},1032,["onClick"]),e(l,{type:"danger",onClick:f=>h(o)},{default:t(()=>[k("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),e(Le,{ref_key:"lifecycleEditorDialogRef",ref:y},null,512)],64)}}}),Ye=E({__name:"index",setup(C){const y=S("context"),g=V(()=>JSON.stringify(y.codeManager.getCode(),null,2));return(_,d)=>{const c=s("b-ace-editor");return w(),M(c,{modelValue:g.value,"onUpdate:modelValue":d[0]||(d[0]=p=>g.value=p),lang:"json",width:"100%",height:"80vh",readonly:!0,"font-size":14},null,8,["modelValue"])}}}),Je={class:"lc-common-toolbar",style:{height:"100%"}},He={class:"left"},Ge={class:"left lc-main-title"},Qe={class:"right"},Xe=E({__name:"index",emits:["action"],setup(C,{emit:y}){const g=S("context"),_=V(()=>{let p=g.codeManager.getCode().name;return p?(g.codeManager.dirty.value&&(p=p+"---Modified"),p):"Name is not set"}),d=V(()=>g.mode.value=="edit"?"Switch to preview":"Return to edit");function c(){g.mode.value=="edit"?g.mode.value="view":g.mode.value="edit"}return(p,h)=>{const b=s("el-button"),n=s("el-button-group");return w(),U("div",Je,[T("div",He,[T("span",Ge,N(_.value),1)]),T("div",Qe,[e(n,null,{default:t(()=>[e(b,{type:"default",onClick:h[0]||(h[0]=m=>y("action","return"))},{default:t(()=>[k("Return to list")]),_:1}),e(b,{type:"primary",onClick:h[1]||(h[1]=m=>y("action","save"))},{default:t(()=>[k("Save")]),_:1}),e(b,{type:"success",onClick:c},{default:t(()=>[k(N(d.value),1)]),_:1})]),_:1})])])}}});const Ze=le(Xe,[["__scopeId","data-v-31523dbe"]]),lt=E({__name:"index",props:{modelValue:{type:Object,required:!0,default(){return{}}}},emits:["action"],setup(C,{emit:y}){const g=C,_=x("pallet"),d=x("ui"),c=S("appContext"),p=ne("edit",c),h=x([p]);ae("context",p);const b=V(()=>p.mode.value=="edit");Q(()=>g.modelValue,()=>{p.codeManager.setCode(g.modelValue)},{immediate:!0});function n(){}function m(l){const u=p.codeManager.getCode();if(l=="return")a(!1);else if(l=="save"){a(!0);return}y("action",l,u)}function a(l){(l||p.codeManager.dirty.value)&&(y("action","save",p.codeManager.getCode()),p.codeManager.dirty.value=!1)}return ie(()=>{a(!1)},120*1e3),(l,u)=>{const r=s("el-header"),o=s("el-tab-pane"),f=s("el-tabs"),v=s("el-col"),D=s("el-row"),$=s("el-container");return w(),M($,{style:{height:"100%"}},{default:t(()=>[e(r,{style:{padding:"0px",margin:"0 0 8px 0"}},{default:t(()=>[e(Ze,{onAction:m})]),_:1}),e(ue,{mode:"out-in",name:"custom-classes","enter-active-class":" page_enter","leave-active-class":" page_leave"},{default:t(()=>[b.value?(w(),M(D,{key:0,style:{height:"calc(100% - 58px)"}},{default:t(()=>[e(v,{span:4,class:"max-tab-height"},{default:t(()=>[e(f,{type:"border-card",stretch:!0,modelValue:_.value,"onUpdate:modelValue":u[0]||(u[0]=i=>_.value=i)},{default:t(()=>[e(o,{label:"Pallet",name:"pallet"},{default:t(()=>[e(fe)]),_:1}),e(o,{label:"Source tree",name:"sourceTree"},{default:t(()=>[e(ve)]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(v,{span:20,class:"max-tab-height"},{default:t(()=>[e(f,{modelValue:d.value,"onUpdate:modelValue":u[1]||(u[1]=i=>d.value=i),type:"border-card",class:"editor-main-tabs"},{default:t(()=>[e(o,{label:"User Interface",name:"ui"},{default:t(()=>[e(D,{class:"height-full"},{default:t(()=>[e(v,{span:18,style:{"padding-right":"16px"},onClick:n},{default:t(()=>[e(G,{contextStack:h.value},null,8,["contextStack"])]),_:1}),e(v,{span:6},{default:t(()=>[e(xe,{class:"height-full",style:{"z-index":"999"}})]),_:1})]),_:1})]),_:1}),e(o,{label:"Data",name:"data"},{default:t(()=>[e(Ee)]),_:1}),e(o,{label:"Computed",name:"computed"},{default:t(()=>[e(Ae)]),_:1}),e(o,{label:"Method",name:"method"},{default:t(()=>[e(Fe)]),_:1}),e(o,{label:"API",name:"api"},{default:t(()=>[e(Ke)]),_:1}),e(o,{label:"Lifecycle",name:"lifecycle"},{default:t(()=>[e(We)]),_:1}),e(o,{label:"Source code",name:"code"},{default:t(()=>[e(Ye)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})):(w(),M(D,{key:1,gutter:20},{default:t(()=>[e(v,{span:24},{default:t(()=>[e(G,{contextStack:h.value},null,8,["contextStack"])]),_:1})]),_:1}))]),_:1})]),_:1})}}});export{lt as _};
