import{C as E,d as L,m as O,u as j,r as m,w as F,o as A,t as P,a as r,b as s,c as d,f as t,g as o,F as S,h as $,i as k,j as y,k as C,l as z,p as G,q as b,s as H,V as I}from"./index-168435c7.js";const J={style:{width:"100%"}},K={key:0},Q={class:"list-group-item-inside"},T={class:"content"},U={key:1},W=L({__name:"editableList",props:O({labelColumn:{type:String,required:!0},init:{type:Object,required:!1},editConfig:{type:[Object,Function],required:!0,default(){return{}}}},{modelValue:{type:Array},modelModifiers:{}}),emits:["update:modelValue"],setup(f){const i=j(f,"modelValue");let l=f;const a=m("list");F(()=>l.editConfig,()=>{a.value="list"});let u=m({}),h=m(null);A(()=>{document.body.ondrop=function(e){e.preventDefault(),e.stopPropagation()}});function V(e){return typeof l.labelColumn=="function"?l.labelColumn(e):e[l.labelColumn]}const _=P(l.editConfig,u);function x(){const e=l.init?H(l.init):{};e.key=I(),u.value=e,i.value.push(u.value),a.value="add"}function w(e){i.value.splice(e,1)}function N(e){u.value=i.value[e],a.value="edit"}function M(){a.value=="add",a.value="list"}return(e,g)=>{const n=r("lc-icon"),p=r("el-button"),q=r("MttkWrapComp"),B=r("el-page-header");return s(),d("div",J,[a.value=="list"?(s(),d("div",K,[t(C(z),{tag:"ul",modelValue:i.value,"onUpdate:modelValue":g[0]||(g[0]=c=>i.value=c),class:"list-group",handle:".handle","item-key":"key"},{default:o(()=>[(s(!0),d(S,null,$(i.value,(c,v)=>(s(),d("li",{class:"list-group-item",key:c.key},[k("div",Q,[t(n,{class:"handle",icon:"mdiDialpad",style:{height:"32px","padding-top":"2px","margin-right":"8px"}}),k("span",T,y(V(c)),1),t(p,{onClick:D=>N(v)},{icon:o(()=>[t(n,{class:"operation",icon:"mdiNoteEditOutline"})]),_:2},1032,["onClick"]),t(p,{text:"",onClick:D=>w(v)},{icon:o(()=>[t(n,{class:"operation",icon:"mdiCloseCircleOutline"})]),_:2},1032,["onClick"])])]))),128))]),_:1},8,["modelValue"]),t(p,{style:{"margin-top":"6px",width:"100%"},onClick:x},{icon:o(()=>[t(n,{icon:"mdiPlus"})]),default:o(()=>[G(" "+y(e.$t("_._.add")),1)]),_:1})])):b("",!0),a.value!="list"?(s(),d("div",U,[t(B,{title:e.$t("_._.back"),onBack:M,style:{padding:"10px","background-color":"var(--el-fill-color-extra-light)"}},{icon:o(()=>[t(n,{icon:"mdiArrowLeft"})]),default:o(()=>[t(q,{config:C(_),style:{margin:"4px"},ref_key:"tableEditor",ref:h},null,8,["config"])]),_:1},8,["title"])])):b("",!0)])}}}),X=E(W,[["__scopeId","data-v-f00abafc"]]);export{X as default};
