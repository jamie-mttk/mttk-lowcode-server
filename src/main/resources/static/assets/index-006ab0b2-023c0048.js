import{C,d as $,D as k,r as g,G as q,a as t,b as f,c as _,f as e,g as o,i as h,p as v,j as d,H as B,q as N,I as z}from"./index-5e7b76fe.js";const D={class:"login-container"},R={class:"login-form"},j={key:0,style:{color:"var(--el-color-error)"}},F=$({__name:"index",setup(I){const s=k("globalContext"),c=g(),r=q({username:"",password:""}),i=g(!1),V=s.router;function b(){c.value.validate(l=>{i.value=!1,l&&z(s,r).then(()=>{var a;V.push(((a=s.router.currentRoute.value.query)==null?void 0:a.redirect)||"/")}).catch(a=>{console.log(a),i.value=!0})})}return(l,a)=>{const p=t("lc-icon"),m=t("el-input"),n=t("el-form-item"),w=t("el-button"),x=t("el-form"),y=t("dvi");return f(),_("div",D,[e(y,{class:"login-area"},{default:o(()=>[h("div",R,[h("h2",null,[v(d(l.$t("_.plugin.login.title"))+" ",1),e(B,{style:{"line-height":"32px","margin-left":"8px"}})]),e(x,{ref_key:"loginFormRef",ref:c,model:r,size:"large","label-position":"top"},{default:o(()=>[e(n,{prop:"username",label:l.$t("_.plugin.login.username"),required:""},{default:o(()=>[e(m,{clearable:"",modelValue:r.username,"onUpdate:modelValue":a[0]||(a[0]=u=>r.username=u),placeholder:l.$t("_.plugin.login.usernamePlaceholder")},{prefix:o(()=>[e(p,{icon:"mdiAccount"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(n,{prop:"password",label:l.$t("_.plugin.login.password"),required:""},{default:o(()=>[e(m,{clearable:"","show-password":"",modelValue:r.password,"onUpdate:modelValue":a[1]||(a[1]=u=>r.password=u),placeholder:l.$t("_.plugin.login.passwordPlaceholder")},{prefix:o(()=>[e(p,{icon:"mdiLock"})]),_:1},8,["modelValue","placeholder"])]),_:1},8,["label"]),e(n,null,{default:o(()=>[e(w,{size:"large",type:"primary",style:{width:"100%"},onClick:b},{default:o(()=>[v(d(l.$t("_.plugin.login.login")),1)]),_:1})]),_:1}),e(n,null,{default:o(()=>[i.value?(f(),_("span",j,d(l.$t("_.plugin.login.loginFail")),1)):N("",!0)]),_:1})]),_:1},8,["model"])])]),_:1})])}}}),P=C(F,[["__scopeId","data-v-a225f599"]]);export{P as default};
